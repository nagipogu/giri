<!DOCTYPE html>
<html>
    <head>
        <title>Scroll</title>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <script src="https://code.jquery.com/jquery-1.12.2.min.js" integrity="sha256-lZFHibXzMHo3GGeehn1hudTAP3Sc0uKXBXAzHX1sjtk=" crossorigin="anonymous"></script> 
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <style>
        .tea_profile_gallery {
        width: 40em;
        height: 25em;
        margin: 0 auto;
        position: relative;
        }

        .tea_profile_gallery li {
        width: 316px;
        height: 310px;
        background: #333;
        display: inline-block;
        -webkit-transition: all .3s ease-in-out;
        -moz-transition: all .3s ease-in-out;
        transition: all .3s ease-in-out;
        overflow: hidden;
        }

        .tea_profile_gallery li p {
        color: white;
        font-weight: bold;
        font-size: 5em;
        text-align: center;
        margin-top: 1.175em;
        }

        .items {
        position: absolute;
        }

        .main-pos {
        margin-left: 4em !important;
        z-index: 3000;
        }

        .left-pos {
        opacity: .3;
        margin-left: -13em !important;
        z-index: 1000;
        -webkit-transform: scale(.75);
        -moz-transform: scale(.75);
        transform: scale(.75);
        }

        .back-pos {
        margin-left: 2em !important;
        /* opacity: .05; */
        -webkit-transform: scale(.5);
        -moz-transform: scale(.5);
        transform: scale(.5);
        }

        .right-pos {
        opacity: .3;
        margin-left:  21em !important;
        z-index: 1000;
        -webkit-transform: scale(.75);
        -moz-transform: scale(.75);
        transform: scale(.75);
        }

        .prev_button{
            float: left;
            margin-top: 9em;
            margin-right: 4em;
            background-color: bisque;
        }
        .next_button{
            float: right;
            margin-top: 9em;
            background-color: bisque;
        }
        .items:hover{
            transform: scale(1.0);
        }
        .tea_profile_gallery .carousel {
            position: relative;
            z-index: 0;
        }
        #myGallery img{
            width: 570px;
            height: 250px;
        }
        </style>       
    </head>
    <body>

            <section class="tea_profile_gallery">
                <span class="prev_button">
                    <i class="far fa-chevron-left" id="prev"></i>
                </span>
                <ul class="carousel">
                    <li data-toggle="modal" data-target="#myModal" class="items main-pos" id="1">
                            <a href="#myGallery" data-slide-to="0">
                              <img src="https://libreshot.com/wp-content/uploads/2016/02/berlin-reichstag.jpg" />
                            </a>
                    </li>
                    <li  data-toggle="modal" data-target="#myModal" class="items right-pos" id="2">
                            <a href="#myGallery" data-slide-to="1">
                              <img src="http://farm9.staticflickr.com/8337/8234123289_2b23aeaf06.jpg" />
                            </a>
                    </li>
                    <li  data-toggle="modal" data-target="#myModal" class="items back-pos" id="3">
                            <a href="#myGallery" data-slide-to="2">
                             <img src="http://farm9.staticflickr.com/8337/8234711202_831b23a2b7.jpg"/>
                            </a>
                    </li>
                    <li  data-toggle="modal" data-target="#myModal" class="items back-pos" id="4">
                            <a href="#myGallery" data-slide-to="3">
                             <img src="https://upload.wikimedia.org/wikipedia/commons/c/cc/Berlin%2C_Kreuzberg%2C_Oranienplatz_4-10%2C_Max-Taut-Haus.jpg"/>
                            </a>
                    </li>
                    <li  data-toggle="modal" data-target="#myModal" class="items back-pos" id="5">
                            <a href="#myGallery" data-slide-to="4">
                               <img src="http://farm9.staticflickr.com/8337/8234711202_831b23a2b7.jpg"/>
                            </a>
                    </li>
                    <li  data-toggle="modal" data-target="#myModal" class="items back-pos" id="6">
                            <a href="#myGallery" data-slide-to="5">
                              <img src="https://upload.wikimedia.org/wikipedia/commons/2/2b/Berlin-Lankwitz_12-12_Siemens_Villa.jpg" />
                            </a>
                    </li>
                    <li  data-toggle="modal" data-target="#myModal" class="items left-pos" id="7">
                            <a href="#myGallery" data-slide-to="6">
                              <img src="https://www.goodfreephotos.com/albums/germany/berlin/berlin-tv-tower.jpg"/>
                            </a>
                    </li>
                </ul>
                <span class="next_button">
                    <i class="far fa-chevron-right" id="next"></i>
                </span>
            </section>
            <div class="modal fade" id="myModal">
                    <div class="modal-dialog">
                        <div class="modal-content">
                          <div class="modal-header">
                              <div class="pull-left">My Gallery Title</div>
                                  <button type="button" class="close" data-dismiss="modal" title="Close"> <span class="glyphicon glyphicon-remove"></span></button>
                              </div>
                              <div class="modal-body">
                                    <div id="myGallery" class="carousel slide" data-interval="false">
                                        <div class="carousel-inner">
                                            <div class="item active"> <img src="https://libreshot.com/wp-content/uploads/2016/02/berlin-reichstag.jpg" alt="item0">
                                              <div class="carousel-caption">
                                                <h3>Heading 0</h3>
                                                <p>Slide 0  description.</p>
                                              </div>
                                            </div>
                                            <div class="item"> <img src="http://farm9.staticflickr.com/8337/8234123289_2b23aeaf06.jpg" alt="item1">
                                              <div class="carousel-caption">
                                                <h3>Heading 1</h3>
                                                <p>Slide 1 description.</p>
                                              </div>
                                            </div>
                                            <div class="item"> <img src="http://farm9.staticflickr.com/8337/8234711202_831b23a2b7.jpg" alt="item2">
                                              <div class="carousel-caption">
                                                <h3>Heading 2</h3>
                                                <p>Slide 2  description.</p>
                                              </div>
                                            </div>
                                            <div class="item"> <img src="https://upload.wikimedia.org/wikipedia/commons/c/cc/Berlin%2C_Kreuzberg%2C_Oranienplatz_4-10%2C_Max-Taut-Haus.jpg" alt="item3">
                                              <div class="carousel-caption">
                                                <h3>Heading 3</h3>
                                                <p>Slide 3 description.</p>
                                              </div>
                                            </div>
                                            <div class="item"> <img src="http://farm9.staticflickr.com/8337/8234711202_831b23a2b7.jpg" alt="item4">
                                              <div class="carousel-caption">
                                                <h3>Heading 4</h3>
                                                <p>Slide 4 description.</p>
                                              </div>
                                            </div>
                                            <div class="item"> <img src="https://upload.wikimedia.org/wikipedia/commons/2/2b/Berlin-Lankwitz_12-12_Siemens_Villa.jpg" alt="item5">
                                              <div class="carousel-caption">
                                                <h3>Heading 5</h3>
                                                <p>Slide 5 description.</p>
                                              </div>
                                            </div>
                                            <div class="item"> <img src="https://www.goodfreephotos.com/albums/germany/berlin/berlin-tv-tower.jpg" alt="item6">
                                                <div class="carousel-caption">
                                                  <h3>Heading 6</h3>
                                                  <p>Slide 6 description.</p>
                                                </div>
                                            </div>
                                      </div>
                                      <a class="left carousel-control" href="#myGallery" role="button" data-slide="prev"> <span class="glyphicon glyphicon-chevron-left"></span></a> <a class="right carousel-control" href="#myGallery" role="button" data-slide="next"> <span class="glyphicon glyphicon-chevron-right"></span></a>
                                    </div>
                              </div>
                            
                          </div>
                        </div>
                    </div>
                </div>
        <script>

       //slideshow style interval
        var autoSwap = setInterval( swap,33500);

        //pause slideshow and reinstantiate on mouseout
        $('ul, span').hover(
        function () {
            clearInterval(autoSwap);
        }, 
        function () {
        autoSwap = setInterval( swap,3500);
        });

        //global variables
        var items = [];
        var startItem = 1;
        var position = 0;
        var itemCount = $('.carousel li.items').length;
        var leftpos = itemCount;
        var resetCount = itemCount;

        //unused: gather text inside items class
        $('li.items').each(function(index) {
            items[index] = $(this).text();
        });

        //swap images function
        function swap(action) {
            var direction = action;
            
            //moving carousel backwards
            if(direction == 'counter-clockwise') {
                var leftitem = $('.left-pos').attr('id') - 1;
                if(leftitem == 0) {
                leftitem = itemCount;
                }
                
                $('.right-pos').removeClass('right-pos').addClass('back-pos');
                $('.main-pos').removeClass('main-pos').addClass('right-pos');
                $('.left-pos').removeClass('left-pos').addClass('main-pos');
                $('#'+leftitem+'').removeClass('back-pos').addClass('left-pos');
                
                startItem--;
                if(startItem < 1) {
                startItem = itemCount;
                }
            }
            
            //moving carousel forward
            if(direction == 'clockwise' || direction == '' || direction == null ) {
                function pos(positionvalue) {
                    if(positionvalue != 'leftposition') {
                        //increment image list id
                        position++;
                        
                        //if final result is greater than image count, reset position.
                        if((startItem+position) > resetCount) {
                        position = 1-startItem;
                        }
                    }
                    
                    //setting the left positioned item
                    if(positionvalue == 'leftposition') {
                        //left positioned image should always be one left than main positioned image.
                        position = startItem - 1;
                    
                        //reset last image in list to left position if first image is in main position
                        if(position < 1) {
                        position = itemCount;
                        }
                    }
            
                return position;
                }  
            
                $('#'+ startItem +'').removeClass('main-pos').addClass('left-pos');
                $('#'+ (startItem+pos()) +'').removeClass('right-pos').addClass('main-pos');
                $('#'+ (startItem+pos()) +'').removeClass('back-pos').addClass('right-pos');
                $('#'+ pos('leftposition') +'').removeClass('left-pos').addClass('back-pos');

                startItem++;
                position=0;
                if(startItem > itemCount) {
                startItem = 1;
                }
            }
        }

        //next button click function
        $('#next').click(function() {
        swap('clockwise');
        });

        //prev button click function
        $('#prev').click(function() {
        swap('counter-clockwise');
        });

        //if any visible items are clicked
        $('li').click(function() {
        if($(this).attr('class') == 'items left-pos') {
            swap('counter-clockwise'); 
        }
        else {
            swap('clockwise'); 
        }
        });
         
        </script>
    </body>
</html>
